import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as l,c,a as s,b as a,e as t,f as p}from"./app-10c9b02b.js";const u={},r={href:"https://juejin.cn/post/7508556336540876800",target:"_blank",rel:"noopener noreferrer"},d={href:"https://juejin.cn/post/7507869468400517154",target:"_blank",rel:"noopener noreferrer"},k={href:"https://juejin.cn/post/7507549882367311926",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/pengzhanbo/vite-plugin-mock-dev-server?tab=readme-ov-file#plugin-options",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/pengzhanbo/vite-plugin-image-placeholder/blob/main/README.zh-CN.md#option",target:"_blank",rel:"noopener noreferrer"},g={href:"https://juejin.cn/post/7508556336540876800",target:"_blank",rel:"noopener noreferrer"},b={href:"https://juejin.cn/post/7507869468400517154",target:"_blank",rel:"noopener noreferrer"},f={href:"https://juejin.cn/post/7507549882367311926",target:"_blank",rel:"noopener noreferrer"};function h(y,n){const e=i("ExternalLinkIcon");return l(),c("div",null,[n[12]||(n[12]=s("h3",{id:"å‰è¨€",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å‰è¨€","aria-hidden":"true"},"#"),a(" å‰è¨€")],-1)),n[13]||(n[13]=s("p",null,"ä»Šå¤©ç»§ç»­æ¨èä¸€äº›è¶…çº§å¥½ç”¨çš„ vite æ’ä»¶!",-1)),n[14]||(n[14]=s("h4",{id:"å¾€æœŸç²¾å½©æ¨è",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#å¾€æœŸç²¾å½©æ¨è","aria-hidden":"true"},"#"),a(" å¾€æœŸç²¾å½©æ¨è")],-1)),s("ul",null,[s("li",null,[s("a",r,[n[0]||(n[0]=a("âš¡ï¸âš¡ï¸âš¡ï¸ tsdown æ¨å‡ºäº† Unbundle æ¨¡å¼ï¼Œå¼€å‘æ›´é«˜æ•ˆï¼ğŸš€ğŸš€ğŸš€")),t(e)])]),s("li",null,[s("a",d,[n[1]||(n[1]=a("ğŸš€ğŸš€ğŸš€ å°¤é›¨æºªå®£å¸ƒ âš¡ Vite é‡‡ç”¨ Rolldown ä»£æ›¿ Rollup æ‰“åŒ…ï¼ŒVue3.6 å’Œ Tsdown å³å°†è·Ÿè¿›ï¼")),t(e)])]),s("li",null,[s("a",k,[n[2]||(n[2]=a("ğŸš€ğŸš€ğŸš€tsgo ä»–æ¥äº†ï¼Œts å›¢é˜Ÿå‘å¸ƒäº† ts native é¢„è§ˆç‰ˆï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«äº† âš¡ï¸ï¼")),t(e)])]),n[3]||(n[3]=s("li",null,"æ›´å¤šç²¾å½©æ–‡ç« æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šèŒèŒå“’è‰å¤´å°†å†›",-1))]),n[15]||(n[15]=p(`<h3 id="æ­£æ–‡" tabindex="-1"><a class="header-anchor" href="#æ­£æ–‡" aria-hidden="true">#</a> æ­£æ–‡</h3><h4 id="vite-plugin-qrcode" tabindex="-1"><a class="header-anchor" href="#vite-plugin-qrcode" aria-hidden="true">#</a> vite-plugin-qrcode</h4><p>è¿™ä¸ªæ’ä»¶å¯ä»¥åœ¨ Vite å¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶æ˜¾ç¤º QR ç ï¼Œæ–¹ä¾¿ç§»åŠ¨è®¾å¤‡è®¿é—®æœ¬åœ°å¼€å‘ç¯å¢ƒã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev vite-plugin-qrcode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.js</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> qrcode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-qrcode&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">qrcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>vite <span class="token parameter variable">--host</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/b24787fc6da94659ad7f6658c40d111e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JCM6JCM5ZOS6I2J5aS05bCG5Yab:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNjc1OTU0MzI2MDcyNyJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1748586648&amp;x-orig-sign=qowfutROLVIwJTy%2FoZBKmEg4AYY%3D" alt="QR ç " tabindex="0" loading="lazy"><figcaption>QR ç </figcaption></figure><p>æœåŠ¡å™¨å¯åŠ¨æ—¶åœ¨ç»ˆç«¯æ˜¾ç¤º QR ç ï¼Œæ‰«æå³å¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè®¿é—®æœ¬åœ°å¼€å‘æœåŠ¡å™¨ã€‚</p><h4 id="vite-plugin-web-update-notification" tabindex="-1"><a class="header-anchor" href="#vite-plugin-web-update-notification" aria-hidden="true">#</a> vite-plugin-web-update-notification</h4><p>æ£€æµ‹ç½‘é¡µæ›´æ–°å¹¶é€šçŸ¥ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œæ”¯æŒ Viteã€Umijs å’Œ Webpackï¼Œä½¿ç”¨ç‰ˆæœ¬å·ï¼ˆå¦‚ git commit hashï¼‰è¿›è¡Œæ¯”è¾ƒã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> @plugin-web-update-notification/vite <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> webUpdateNotice <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@plugin-web-update-notification/vite&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">webUpdateNotice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">logVersion</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">notificationProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;ç³»ç»Ÿæ›´æ–°&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;ç³»ç»Ÿæœ‰æ›´æ–°ï¼Œè¯·åˆ·æ–°é¡µé¢&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">buttonText</span><span class="token operator">:</span> <span class="token string">&quot;åˆ·æ–°&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨é¡µé¢åŠ è½½ã€å®šæ—¶è½®è¯¢æˆ–æ ‡ç­¾é¡µé‡æ–°æ¿€æ´»æ—¶æ£€æŸ¥æ›´æ–°ï¼Œè‹¥æ£€æµ‹åˆ°æ–°ç‰ˆæœ¬åˆ™æ˜¾ç¤ºé€šçŸ¥ï¼Œæç¤ºç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œé¿å…ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„é”™è¯¯ã€‚</p><figure><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/141c05ad2a784d2f9be7ea3f85c7a861~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JCM6JCM5ZOS6I2J5aS05bCG5Yab:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNjc1OTU0MzI2MDcyNyJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1748586648&amp;x-orig-sign=hB4vZOamr8k6yx6gOyB7w2ex0ig%3D" alt="æ›´æ–°é€šçŸ¥" tabindex="0" loading="lazy"><figcaption>æ›´æ–°é€šçŸ¥</figcaption></figure><h4 id="vite-plugin-validate-env" tabindex="-1"><a class="header-anchor" href="#vite-plugin-validate-env" aria-hidden="true">#</a> vite-plugin-validate-env</h4><p>åœ¨æ„å»ºæˆ–å¼€å‘æ—¶éªŒè¯ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿é…ç½®æ­£ç¡®ï¼Œæ”¯æŒå†…ç½®éªŒè¯å™¨å’Œæ ‡å‡†æ¨¡å¼ï¼ˆå¦‚ Zodï¼‰ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> @julr/vite-plugin-validate-env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨å†…ç½®éªŒè¯å™¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ValidateEnv<span class="token punctuation">,</span> Schema <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@julr/vite-plugin-validate-env&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">ValidateEnv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">validator</span><span class="token operator">:</span> <span class="token string">&quot;builtin&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">schema</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">VITE_MY_VAR</span><span class="token operator">:</span> Schema<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ„å»ºæˆ–å¼€å‘æ—¶éªŒè¯ç¯å¢ƒå˜é‡ï¼Œæ•è·é…ç½®é”™è¯¯ï¼Œç¡®ä¿é¡¹ç›®è¿è¡Œæ—¶ç¯å¢ƒå˜é‡ç¬¦åˆé¢„æœŸã€‚</p><h4 id="vite-plugin-conditional-compile" tabindex="-1"><a class="header-anchor" href="#vite-plugin-conditional-compile" aria-hidden="true">#</a> vite-plugin-conditional-compile</h4><p>åŸºäºç¯å¢ƒå˜é‡çš„æ¡ä»¶ç¼–è¯‘è¯­æ³•ï¼Œæ”¯æŒ <code>#v-ifdef</code> ç­‰æŒ‡ä»¤ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> i <span class="token parameter variable">-D</span> vite-plugin-conditional-compiler
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶ååœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ConditionalCompile <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-conditional-compiler&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ConditionalCompile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>#v<span class="token operator">-</span>ifdef <span class="token constant">VITE_MY_ENV</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;VITE_MY_ENV is defined&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
#v<span class="token operator">-</span>endif
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ®ç¯å¢ƒå˜é‡åŠ¨æ€ç¼–è¯‘ä»£ç ï¼Œç§»é™¤ä¸ç¬¦åˆæ¡ä»¶çš„ä»£ç å—ï¼Œä¼˜åŒ–æ„å»ºç»“æœã€‚</p><h4 id="vite-plugin-mock-dev-server" tabindex="-1"><a class="header-anchor" href="#vite-plugin-mock-dev-server" aria-hidden="true">#</a> vite-plugin-mock-dev-server</h4><p>ä¸º Vite æä¾› API æ¨¡æ‹Ÿå¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹å’Œçƒ­æ›´æ–°ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> vite-plugin-mock-dev-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> mockDevServerPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-mock-dev-server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">mockDevServerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘ç¯å¢ƒä¸­æ¨¡æ‹Ÿ API è¯·æ±‚å’Œå“åº”ï¼Œæ”¯æŒ HTTP/WSã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ç­‰åŠŸèƒ½ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineMock <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-mock-dev-server&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineMock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;/api/test&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,43)),s("p",null,[n[5]||(n[5]=a("è¯¦ç»†çš„é…ç½®å¯ä»¥çœ‹è¿™é‡Œï¼š")),s("a",v,[n[4]||(n[4]=a("https://github.com/pengzhanbo/vite-plugin-mock-dev-server?tab=readme-ov-file#plugin-options")),t(e)])]),n[16]||(n[16]=p(`<h4 id="vite-plugin-shortcuts" tabindex="-1"><a class="header-anchor" href="#vite-plugin-shortcuts" aria-hidden="true">#</a> vite-plugin-shortcuts</h4><p>ä¸º Vite å¼€å‘æœåŠ¡å™¨æ·»åŠ è‡ªå®šä¹‰å¿«æ·é”®ï¼Œæå‡æ“ä½œæ•ˆç‡ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> vite-plugin-shortcuts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> shortcutsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-shortcuts&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">shortcutsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">shortcuts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token string">&#39;server.config.logger.clearScreen(&quot;error&quot;)&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Close console&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">s</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token string">&quot;server.config.logger.reset()&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Reset console&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘æœåŠ¡å™¨ä¸­å¯ç”¨è‡ªå®šä¹‰å¿«æ·é”®ï¼Œå¦‚æ¸…é™¤æˆ–é‡ç½®æ§åˆ¶å°ï¼</p><figure><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/66d3d0d9c84d40e288efdd1a10e24668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JCM6JCM5ZOS6I2J5aS05bCG5Yab:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNjc1OTU0MzI2MDcyNyJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1748586647&amp;x-orig-sign=iY132ul9jZJ%2BVttSrKk6RhknpIQ%3D" alt="å¿«æ·é”®" tabindex="0" loading="lazy"><figcaption>å¿«æ·é”®</figcaption></figure><h4 id="vite-plugin-entry-shaking" tabindex="-1"><a class="header-anchor" href="#vite-plugin-entry-shaking" aria-hidden="true">#</a> vite-plugin-entry-shaking</h4><p>åœ¨å¼€å‘æ¨¡å¼ä¸‹æ¨¡æ‹Ÿ tree-shaking è¡Œä¸ºï¼Œä¼˜åŒ–æ¨¡å—å¯¼å…¥ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> vite-plugin-entry-shaking
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> EntryShakingPlugin <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-entry-shaking&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">EntryShakingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/entry-a&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">glob</span><span class="token operator">:</span> <span class="token string">&quot;src/utils/*.ts&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ä¼˜åŒ–æ¨¡å—å¯¼å…¥ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¨¡å—è¯·æ±‚ã€‚</p><figure><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/ce7958c0bd424470b112bcbcb81ff065~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JCM6JCM5ZOS6I2J5aS05bCG5Yab:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNjc1OTU0MzI2MDcyNyJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1748586647&amp;x-orig-sign=Nrp%2Fy2xWstvVo0Ix3I4Lc6d9nyY%3D" alt="è¯·æ±‚æƒ…å†µä¸€è§ˆ" tabindex="0" loading="lazy"><figcaption>è¯·æ±‚æƒ…å†µä¸€è§ˆ</figcaption></figure><h4 id="vite-plugin-auto-alias" tabindex="-1"><a class="header-anchor" href="#vite-plugin-auto-alias" aria-hidden="true">#</a> vite-plugin-auto-alias</h4><p>è‡ªåŠ¨ç”ŸæˆåŸºäºè·¯å¾„çš„åˆ«åï¼Œæ”¯æŒçƒ­æ›´æ–°å’Œè‡ªå®šä¹‰å‰ç¼€ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">add</span> vite-plugin-auto-alias <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> autoAlias <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-auto-alias&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">autoAlias</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªåŠ¨ç”Ÿæˆç›®å½•åˆ«åï¼ˆå¦‚ <code>@/components</code>ï¼‰ï¼Œç®€åŒ–æ¨¡å—å¯¼å…¥ã€‚</p><pre><code>|-- src
    |-- plugins
    |-- router
    |-- scss
    |-- store
    |-- utils
    |-- views
    |-- ....
</code></pre><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@plugins/xxx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@router/xxx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@scss/xxx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@store/xxx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@utils/xxx&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> xxx <span class="token keyword">from</span> <span class="token string">&quot;@views/xxx&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ’ä»¶å’Œä¸Šæ¬¡æˆ‘ä»‹ç»çš„ <code>vite-aliases</code> åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼</p><h4 id="vite-plugin-image-placeholder" tabindex="-1"><a class="header-anchor" href="#vite-plugin-image-placeholder" aria-hidden="true">#</a> vite-plugin-image-placeholder</h4><p>ä¸ºæœªå‡†å¤‡å¥½çš„å›¾åƒèµ„æºç”Ÿæˆå ä½ç¬¦å›¾åƒï¼Œæ”¯æŒå¤šç§æ ¼å¼ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-D</span> vite-plugin-image-placeholder
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> imagePlaceholder <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-image-placeholder&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">imagePlaceholder</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">prefix</span><span class="token operator">:</span> <span class="token string">&quot;image/placeholder&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆå ä½ç¬¦å›¾åƒï¼Œç”¨äºå›¾åƒèµ„æºæœªåŠ è½½æ—¶çš„æ˜¾ç¤ºï¼Œæ”¯æŒ HTMLã€CSS å’Œ JS ä½¿ç”¨ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/image/placeholder<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/image/placeholder/200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/image/placeholder/300/200<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,34)),s("p",null,[n[7]||(n[7]=a("é…ç½®é¡¹å‚è€ƒè¿™é‡Œï¼š")),s("a",m,[n[6]||(n[6]=a("https://github.com/pengzhanbo/vite-plugin-image-placeholder/blob/main/README.zh-CN.md#option")),t(e)])]),n[17]||(n[17]=p(`<h4 id="vite-plugin-find-image-duplicates" tabindex="-1"><a class="header-anchor" href="#vite-plugin-find-image-duplicates" aria-hidden="true">#</a> vite-plugin-find-image-duplicates</h4><p>åœ¨æ„å»ºæ—¶æŸ¥æ‰¾é¡¹ç›®ä¸­çš„é‡å¤å›¾åƒï¼Œä¼˜åŒ–èµ„æºç®¡ç†ã€‚</p><p>ä¸‹è½½</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vite-plugin-find-image-duplicates <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®<br> åœ¨ <code>vite.config.ts</code> ä¸­æ·»åŠ ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> findImageDuplicates <span class="token keyword">from</span> <span class="token string">&quot;vite-plugin-find-image-duplicates&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">findImageDuplicates</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">imagePath</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/assets/images&quot;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ„å»ºæ—¶æ£€æµ‹å¹¶æŠ¥å‘Šé‡å¤å›¾åƒï¼Œå¸®åŠ©ä¼˜åŒ–é¡¹ç›®èµ„æºã€‚</p><h3 id="æœ€å" tabindex="-1"><a class="header-anchor" href="#æœ€å" aria-hidden="true">#</a> æœ€å</h3><p>æœ¬æ–‡ä»‹ç»çš„ Vite æ’ä»¶ï¼Œæ¶µç›–äº†ä» QR ç æ˜¾ç¤ºåˆ°å›¾åƒèµ„æºä¼˜åŒ–çš„å¤šç§åŠŸèƒ½ã€‚è¿™äº›æ’ä»¶è§£å†³äº†å¼€å‘ä¸­çš„å¸¸è§ç—›ç‚¹ï¼Œå¦‚è°ƒè¯•æ•ˆç‡ã€ç¯å¢ƒé…ç½®å’Œèµ„æºç®¡ç†ï¼Œä½¿ Vite æ›´é€‚åˆå¤æ‚é¡¹ç›®å’Œå›¢é˜Ÿåä½œã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©å¼€å‘è€…å¿«é€ŸæŒæ¡è¿™äº›æ’ä»¶ï¼Œå¹¶åœ¨é¡¹ç›®ä¸­çµæ´»è¿ç”¨ï¼</p><p>ä»Šå¤©çš„åˆ†äº«å°±è¿™äº›äº†ï¼Œæ„Ÿè°¢å¤§å®¶çš„é˜…è¯»ï¼Œå¦‚æœæ–‡ç« ä¸­å­˜åœ¨é”™è¯¯çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ï¼</p><h4 id="å¾€æœŸç²¾å½©æ¨è-1" tabindex="-1"><a class="header-anchor" href="#å¾€æœŸç²¾å½©æ¨è-1" aria-hidden="true">#</a> å¾€æœŸç²¾å½©æ¨è</h4>`,11)),s("ul",null,[s("li",null,[s("a",g,[n[8]||(n[8]=a("âš¡ï¸âš¡ï¸âš¡ï¸ tsdown æ¨å‡ºäº† Unbundle æ¨¡å¼ï¼Œå¼€å‘æ›´é«˜æ•ˆï¼ğŸš€ğŸš€ğŸš€")),t(e)])]),s("li",null,[s("a",b,[n[9]||(n[9]=a("ğŸš€ğŸš€ğŸš€ å°¤é›¨æºªå®£å¸ƒ âš¡ Vite é‡‡ç”¨ Rolldown ä»£æ›¿ Rollup æ‰“åŒ…ï¼ŒVue3.6 å’Œ Tsdown å³å°†è·Ÿè¿›ï¼")),t(e)])]),s("li",null,[s("a",f,[n[10]||(n[10]=a("ğŸš€ğŸš€ğŸš€tsgo ä»–æ¥äº†ï¼Œts å›¢é˜Ÿå‘å¸ƒäº† ts native é¢„è§ˆç‰ˆï¼Œæ„å»ºé€Ÿåº¦æ›´å¿«äº† âš¡ï¸ï¼")),t(e)])]),n[11]||(n[11]=s("li",null,"æ›´å¤šç²¾å½©æ–‡ç« æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šèŒèŒå“’è‰å¤´å°†å†›",-1))])])}const w=o(u,[["render",h],["__file","è¿™äº›é«˜æ•ˆå®ç”¨çš„ vite æ’ä»¶ä½ ä¸€å®šè¦çŸ¥é“ï¼æ›´æ–°å¼¹çª—ã€mockæ•°æ®ã€å¼€å‘å¿«æ·é”®ã€è‡ªåŠ¨å¯¼å…¥....html.vue"]]);export{w as default};
