import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as e,c as o,a as n,b as c,e as i,f as s}from"./app-f740539f.js";const l={},u=s('<p>在打开西游记之前，我先介绍下<code>命令模式</code></p><h3 id="命令模式介绍" tabindex="-1"><a class="header-anchor" href="#命令模式介绍" aria-hidden="true">#</a> <code>命令模式</code>介绍</h3><h4 id="思想" tabindex="-1"><a class="header-anchor" href="#思想" aria-hidden="true">#</a> 思想</h4><p><code>命令模式</code>的功能是将一个<code>请求</code>或者<code>操作</code>包装在一个对象中，并将参数传递给调用对象，从而使方法和调用者的职责分离。</p><h4 id="优点" tabindex="-1"><a class="header-anchor" href="#优点" aria-hidden="true">#</a> 优点</h4><p>这么做的好处一方面使系统变得松藕，另一方面可以根据不通过的请求对客户进行参数化调用，从而使整个系统具有更高的灵活性。</p><h4 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点" aria-hidden="true">#</a> 缺点</h4><p>因为<code>事务</code>的复杂度可能会出现很多的类</p><h4 id="需要使用命令模式的场景" tabindex="-1"><a class="header-anchor" href="#需要使用命令模式的场景" aria-hidden="true">#</a> 需要使用命令模式的场景</h4><p><code>命令模式</code>的使用场景有</p><ol><li>需要根据参数确定执行哪个方法时</li><li>需要随时<code>追踪</code>、<code>撤销</code>或者<code>重做</code>某些操作时（即<code>事务</code>场景）</li></ol><h4 id="模型" tabindex="-1"><a class="header-anchor" href="#模型" aria-hidden="true">#</a> 模型</h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fba67aab9f834125a4463e887002b0ad~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" loading="lazy"><br> 命令模式需要的角色分别是：<code>Client（客户端）</code>、<code>Invoker（调用者）</code>、<code>Commond（命令接口）</code>、<code>concreteCommand（具体的命令）</code>、<code>Receiver（接受者）</code></p><ul><li><code>Client（客户端）</code>：具体的使用者，一般通过调用者执行客户端想要做的事情</li><li><code>Invoker（调用者）</code>：接收命令，并且执行这些命令</li><li><code>Commond（命令接口）</code>：规定具体的命令需要实现的接口</li><li><code>concreteCommand（具体的命令）</code>：具体的命令，需要实现命令接口</li><li><code>Receiver（接受者）</code>：正在执行命令的类</li></ul><h3 id="实现" tabindex="-1"><a class="header-anchor" href="#实现" aria-hidden="true">#</a> 实现</h3>',15),d={href:"https://github.com/mmdctjj/good_good_study/blob/master/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.html",target:"_blank",rel:"noopener noreferrer"},k=s(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> specialSkill</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>specialSkill <span class="token operator">=</span> specialSkill
  <span class="token punctuation">}</span>
  <span class="token function">useSpecialSkill</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      <span class="token string">&#39;双手合十，口念：“阿弥陀佛”，随后使出了他的看家本领&#39;</span><span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>specialSkill
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Invoker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>commmandList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">addCommand</span> <span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来说：亲，你点的&#39;</span><span class="token punctuation">,</span> command<span class="token punctuation">.</span>receiver<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">&#39;给你安排了&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>commmandList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">excuteCommand</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来捏了个兰花指，然后打了个响指空空、戒戒、沙沙分别走了上来&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>commmandList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">command</span> <span class="token operator">=&gt;</span> command<span class="token punctuation">.</span><span class="token function">excute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;&quot;给我来一个&#39;</span><span class="token punctuation">,</span> receiver<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">&#39;&quot;&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver
  <span class="token punctuation">}</span>
  <span class="token function">excute</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">useSpecialSkill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// client 客户端</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;夕阳西下，唐唐拖着长长的背影，走进了灵山白金翰佛堂。&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;几个苦行僧打扮的服务员迎了上来，双手合十，鞠躬道：“阿弥陀佛，施主想来些啥？”&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;唐唐嚣张的骂道：“啥档次，跟我一样说阿弥陀佛，把你们老板叫出来！”&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来听到唐唐的声音，边穿衣服边对身边的白骨精说道：“你稍等片刻，我去去就来”。随后夺门而出。&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来迎了上啦，拉住唐唐的手道：&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;老弟好久没来了啊，有失远迎，还请见谅啊！！！&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;“我佛慈悲，出家人怎会计较这些，弟子马上要出发了，来这里买几个徒弟，路上消遣，岂不美哉”&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来从身后拿出了ipad，递给唐唐，“你选吧”&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;唐唐接过平板，看着每页的图片，边点边念叨到：&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> kongkong <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Receiver</span><span class="token punctuation">(</span><span class="token string">&#39;空空&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;连续72个后空翻&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> jiejie <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Receiver</span><span class="token punctuation">(</span><span class="token string">&#39;戒戒&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;36种不同姿势钢管舞&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> shasha <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Receiver</span><span class="token punctuation">(</span><span class="token string">&#39;沙沙&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;萨克斯&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 给我来一个空空，我看看他的看家本领怎么样</span>
<span class="token keyword">const</span> command1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">(</span>kongkong<span class="token punctuation">)</span>
<span class="token comment">// 再给我来一个戒戒，我想看看他的看家本领怎么样</span>
<span class="token keyword">const</span> command2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">(</span>jiejie<span class="token punctuation">)</span>
<span class="token comment">// 最后再给我来一个沙沙，我想看看他的看家本领怎么样</span>
<span class="token keyword">const</span> command3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">(</span>shasha<span class="token punctuation">)</span>

<span class="token comment">// 如来</span>
<span class="token keyword">const</span> invoker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Invoker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 如来说：亲，你要一个空空、沙沙、戒戒，分别看看他的看家本领，好的，给你安排了</span>
invoker<span class="token punctuation">.</span><span class="token function">addCommand</span><span class="token punctuation">(</span>command1<span class="token punctuation">)</span>
invoker<span class="token punctuation">.</span><span class="token function">addCommand</span><span class="token punctuation">(</span>command2<span class="token punctuation">)</span>
invoker<span class="token punctuation">.</span><span class="token function">addCommand</span><span class="token punctuation">(</span>command3<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;唐唐：”好的，这些我先看看他们的本领怎么样“&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 如来翘起了兰花指，然后打了个响指，空空、戒戒、沙沙分别走了上来</span>
invoker<span class="token punctuation">.</span><span class="token function">excuteCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;唐唐满意的点了点头：”好的，爷不差钱，这些个挺不错的，俺都要了!!!“&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;如来说：“如果觉得好用，回头记得一键三连哦～”&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="如果用命令模式打开西游记会发生什么-你会欣赏到下面的小短文" tabindex="-1"><a class="header-anchor" href="#如果用命令模式打开西游记会发生什么-你会欣赏到下面的小短文" aria-hidden="true">#</a> 如果用命令模式打开西游记会发生什么，你会欣赏到下面的小短文</h3><p>夕阳西下，唐唐拖着长长的背影，走进了灵山白金翰佛堂。</p><p>几个苦行僧打扮的服务员迎了上来，双手合十，鞠躬道：“阿弥陀佛，施主想来些啥？”</p><p>唐唐嚣张的骂道：“啥档次，跟我一样说阿弥陀佛，把你们老板叫出来！”</p><p>如来听到唐唐的声音，边穿衣服边对身边的白骨精说道：“你稍等片刻，我去去就来”。随后夺门而出。</p><p>如来迎了上来，拉住唐唐的手道：</p><p>&quot;老弟好久没来了啊，有失远迎，还请见谅啊！！！&quot;</p><p>“我佛慈悲，出家人怎会计较这些，弟子马上要出发了，来这里买几个徒弟，路上消遣，岂不美哉”</p><p>如来从身后拿出了ipad，递给唐唐，“你选吧”</p><p>唐唐接过平板，翻着精美的图片，边点边念叨到：</p><p>&quot;给我来一个 空空 &quot;</p><p>&quot;给我来一个 戒戒 &quot;</p><p>&quot;给我来一个 沙沙 &quot;</p><p>如来说：亲，你点的 空空 给你安排了</p><p>如来说：亲，你点的 戒戒 给你安排了</p><p>如来说：亲，你点的 沙沙 给你安排了</p><p>唐唐：”好的，这些我先看看他们的本领怎么样“</p><p>如来捏了个兰花指，然后打了个响指空空、戒戒、沙沙分别走了上来</p><p>空空 双手合十，口念：“阿弥陀佛”，随后使出了他的看家本领 连续72个后空翻</p><p>戒戒 双手合十，口念：“阿弥陀佛”，随后使出了他的看家本领 36种不同姿势钢管舞</p><p>沙沙 双手合十，口念：“阿弥陀佛”，随后使出了他的看家本领 萨克斯</p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cdb23185c48c4ad2b5f7b81dd5de90ac~tplv-k3u1fbpfcp-watermark.image?" alt="image.png" width="30%"><p>唐唐满意的点了点头：”好的，爷不差钱，这些个挺不错的，俺都要了!!!“</p><p>如来说：“如果觉得好用，回头记得一键三连哦～”</p>`,25);function r(m,v){const a=t("ExternalLinkIcon");return e(),o("div",null,[u,n("p",null,[n("a",d,[c("源码点这里"),i(a)])]),k])}const g=p(l,[["render",r],["__file","用命令模式打开西游记.html.vue"]]);export{g as default};
