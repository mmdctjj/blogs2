import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as p,c,a as n,b as s,e,f as o}from"./app-b7d13f83.js";const l={},r=n("blockquote",null,[n("p",null,"æ–‡ç« åŒæ­¥æ›´æ–°åœ¨å…¬ä¼—å·ï¼šèŒèŒå“’è‰å¤´å°†å†›ï¼Œæ¬¢è¿å…³æ³¨")],-1),u=n("p",null,"å¥½ä¹…ä¸è§ï¼Œè¯¥ç³»åˆ—å·²ç»æ›´æ–°äº†ä¸‰ç¯‡äº†ï¼Œä¸Šæ–‡ä»‹ç»äº† React æ˜¯å¦‚ä½•é€šè¿‡ Lane æ¨¡å‹åˆ¤æ–­æ›´æ–°ä»»åŠ¡çš„ä¼˜å…ˆçº§çš„ï¼Œè§†é‡èšç„¦äº Lane æ¨¡å‹çš„åŸç†ï¼Œä»Šå¤©æˆ‘ä»¬è¯¦ç»†çœ‹çœ‹ Lane æ¨¡å‹å·¥ä½œå‰å‘ç”Ÿäº†å•¥ã€‚",-1),d=n("h3",{id:"ğŸ’¡-ç›¸å…³é˜…è¯»",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ğŸ’¡-ç›¸å…³é˜…è¯»","aria-hidden":"true"},"#"),s(" ğŸ’¡ ç›¸å…³é˜…è¯»")],-1),v={href:"https://juejin.cn/post/7241567583504728119",target:"_blank",rel:"noopener noreferrer"},k={href:"https://juejin.cn/post/7242249906257363001",target:"_blank",rel:"noopener noreferrer"},m={href:"https://juejin.cn/post/7248982532728602681",target:"_blank",rel:"noopener noreferrer"},b=o(`<h2 id="ğŸ’-ç¬¬å››åº§å¤§å±±-äº‹ä»¶ç³»ç»Ÿå’Œ-dispatch-æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ğŸ’-ç¬¬å››åº§å¤§å±±-äº‹ä»¶ç³»ç»Ÿå’Œ-dispatch-æœºåˆ¶" aria-hidden="true">#</a> ğŸ’ ç¬¬å››åº§å¤§å±±ï¼šäº‹ä»¶ç³»ç»Ÿå’Œ Dispatch æœºåˆ¶</h2><h3 id="ğŸš€-äº‹ä»¶ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#ğŸš€-äº‹ä»¶ç³»ç»Ÿ" aria-hidden="true">#</a> ğŸš€ äº‹ä»¶ç³»ç»Ÿ</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ›´æ–°ä»»åŠ¡çš„å¦‚ä½•äº§ç”Ÿçš„â€”â€”äº‹ä»¶ç³»ç»Ÿã€‚</p><p>React å¯¹æµè§ˆå™¨åŸç”Ÿäº‹ä»¶è¿›è¡Œäº†å°è£…ï¼Œä¾‹å¦‚ï¼Œå½“ç”¨æˆ·é€šè¿‡<code>onClick</code>å±æ€§è§¦å‘äº¤äº’è¡Œä¸ºæ—¶ï¼ŒReact å…ˆå°†äº‹ä»¶è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œç„¶åè½¬åŒ–ä¸ºåŸç”Ÿçš„ <code>onclick</code> äº‹ä»¶ã€‚</p><p>å°è£…çš„ç›®çš„å¦‚ä¸‹ï¼š</p><ol><li><p>äº‹ä»¶åˆæˆä¸å°è£…ï¼šReact å¯¹æµè§ˆå™¨åŸç”Ÿäº‹ä»¶è¿›è¡Œäº†å°è£…ï¼Œåˆ›å»ºäº†ä¸€ä¸ªç»Ÿä¸€çš„è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡ã€‚è¿™ä¸ªäº‹ä»¶å¯¹è±¡æä¾›äº†ä¸€è‡´çš„ APIï¼Œä½¿å¾—äº‹ä»¶å¤„ç†å‡½æ•°å¯ä»¥åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†äº‹ä»¶ã€‚</p></li><li><p>äº‹ä»¶å§”æ‰˜ä¸å†’æ³¡ï¼šReact ä½¿ç”¨äº‹ä»¶å§”æ‰˜æœºåˆ¶æ¥å¤„ç†äº‹ä»¶ã€‚å®ƒå°†äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°ç»„ä»¶çš„æœ€ä¸Šå±‚å®¹å™¨å…ƒç´ ï¼Œç„¶åé€šè¿‡äº‹ä»¶å†’æ³¡æœºåˆ¶å°†äº‹ä»¶ä¼ é€’ç»™å®é™…è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚è¿™æ ·å¯ä»¥å‡å°‘äº‹ä»¶å¤„ç†å‡½æ•°çš„æ•°é‡ï¼Œæé«˜æ€§èƒ½å’Œæ•ˆç‡ã€‚</p></li><li><p>äº‹ä»¶ç³»ç»Ÿçš„åˆæˆä¸æ‰©å±•ï¼šReact çš„äº‹ä»¶ç³»ç»Ÿæ”¯æŒå¯¹åŸç”Ÿäº‹ä»¶çš„æ‰©å±•ã€‚å®ƒå¯ä»¥åˆæˆå¤šä¸ªæµè§ˆå™¨äº‹ä»¶ï¼Œä¾‹å¦‚é¼ æ ‡äº‹ä»¶å’Œè§¦æ‘¸äº‹ä»¶ï¼Œä»¥æä¾›æ›´ä¸°å¯Œçš„äº‹ä»¶å¤„ç†èƒ½åŠ›ã€‚åŒæ—¶ï¼ŒReact è¿˜æä¾›äº†ä¸€äº›é¢å¤–çš„äº‹ä»¶ï¼Œå¦‚<code>onMouseEnter</code>ã€<code>onMouseLeave</code>ç­‰ï¼Œæ¥å¤„ç†ç‰¹å®šçš„äº¤äº’éœ€æ±‚ã€‚</p></li><li><p>äº‹ä»¶å¤„ç†å‡½æ•°çš„ä¸Šä¸‹æ–‡ç»‘å®šï¼šReact é»˜è®¤ä¼šå°†äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°ç»„ä»¶å®ä¾‹ä¸Šï¼Œä»¥ç¡®ä¿åœ¨å¤„ç†å‡½æ•°ä¸­å¯ä»¥è®¿é—®ç»„ä»¶çš„ä¸Šä¸‹æ–‡å’Œæ–¹æ³•ã€‚è¿™æ ·å¯ä»¥é¿å…åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­æ‰‹åŠ¨ç»‘å®š<code>this</code>å…³é”®å­—ã€‚</p></li></ol><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹è¯¦ç»†çš„å®ç°è¿‡ç¨‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æä¾›å¦‚ä¸‹ç»„ä»¶ï¼Œç„¶åæŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å° -&gt; å®¡æŸ¥å…ƒç´  -&gt; äº‹ä»¶ç›‘å¬ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ­¤æ—¶çš„ button å…ƒç´ ç»‘å®šçš„ click äº‹ä»¶ä¸º noop ï¼Œå½“æˆ‘ä»¬é€‰ä¸­å…¥å£ dom èŠ‚ç‚¹æ—¶æƒŠå¥‡çš„å‘ç°ï¼Œ#app èŠ‚ç‚¹è¢«ç»‘å®šäº†ä¸€å¤§å †çš„äº‹ä»¶ï¼Œå®é™…ä¸Šï¼Œè¿™å°±æ˜¯ React æœ‰æ„è€Œä¸ºä¹‹ã€‚</p><p>åœ¨ 16.8 åŠä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿™äº›äº‹ä»¶ç›´æ¥è¢«ç»‘å®šåœ¨ document å…ƒç´ ä¸Šï¼Œè€Œä» 17.2 å¼€å§‹ï¼Œå°†å…¨å±€äº‹ä»¶ç»‘å®šåœ¨äº†å…¥å£ dom ä¸Šäº†ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„åˆ©äºå¤šåº”ç”¨ï¼Œå› ä¸º react æ”¯æŒä¸€ä¸ª document ä¸‹æŒ‚åœ¨å¤šä¸ª React åº”ç”¨ï¼Œè¿™æ ·åšäº’ä¸å¹²æ‰°ã€‚</p><p>æˆ‘ä»¬çŸ¥é“æ¯ä¸ª React åº”ç”¨çš„å…¥å£æ˜¯é€šè¿‡ createRoot å‡½æ•°ï¼Œæˆ‘ä»¬æ‰“å¼€æºç ï¼Œå°±å¯ä»¥çœ‹åˆ°è¯¥å‡½æ•°çš„ä¸€é¡¹å·¥ä½œæ˜¯ <code>listenToAllSupportedEvents</code>ï¼Œä¹Ÿå°±æ˜¯åœ¨ rootNode ç›‘å¬ æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶ã€‚</p><p>æ·±å…¥çš„ç ”ç©¶ï¼Œå¯ä»¥çœ‹åˆ° React æ ¹æ®äº‹ä»¶çš„ä¼˜å…ˆçº§åˆ†ä¸ºï¼šç¦»æ•£äº‹ä»¶ã€è¿ç»­äº‹ä»¶ã€æ™®é€šäº‹ä»¶ï¼Œåœ¨ createEventListenerWrapperWithPriority ä¸­ï¼Œé€šè¿‡å½“å‰äº‹ä»¶çš„çº§åˆ«ï¼Œåˆ†å‘å¯¹åº”çš„äº‹ä»¶ç›‘å¬å™¨</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createEventListenerWrapperWithPriority</span><span class="token punctuation">(</span>
  <span class="token parameter">targetContainer<span class="token punctuation">,</span>
  domEventName<span class="token punctuation">,</span>
  eventSystemFlags</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> eventPriority <span class="token operator">=</span> <span class="token function">getEventPriority</span><span class="token punctuation">(</span>domEventName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> listenerWrapper<span class="token punctuation">;</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>eventPriority<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token literal-property property">DiscreteEventPriority</span><span class="token operator">:</span>
      listenerWrapper <span class="token operator">=</span> dispatchDiscreteEvent<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>

    <span class="token keyword">case</span> <span class="token literal-property property">ContinuousEventPriority</span><span class="token operator">:</span>
      listenerWrapper <span class="token operator">=</span> dispatchContinuousEvent<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>

    <span class="token keyword">case</span> <span class="token literal-property property">DefaultEventPriority</span><span class="token operator">:</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      listenerWrapper <span class="token operator">=</span> dispatchEvent<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token function">listenerWrapper</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    domEventName<span class="token punctuation">,</span>
    eventSystemFlags<span class="token punctuation">,</span>
    targetContainer
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ç€ï¼Œæˆ‘ä»¬æ¥åœ¨æ¥çœ‹çœ‹åç»­çš„æ“ä½œ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addTrappedEventListener</span><span class="token punctuation">(</span>
  <span class="token parameter">targetContainer<span class="token punctuation">,</span>
  domEventName<span class="token punctuation">,</span>
  eventSystemFlags<span class="token punctuation">,</span>
  isCapturePhaseListener<span class="token punctuation">,</span>
  isDeferredListenerForLegacyFBSupport</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> listener <span class="token operator">=</span> <span class="token function">createEventListenerWrapperWithPriority</span><span class="token punctuation">(</span>
    targetContainer<span class="token punctuation">,</span>
    domEventName<span class="token punctuation">,</span>
    eventSystemFlags
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// If passive option is not supported, then the event will be</span>
  <span class="token comment">// active and not passive.</span>

  <span class="token keyword">var</span> isPassiveListener <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>passiveBrowserEventsSupported<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Browsers introduced an intervention, making these events</span>
    <span class="token comment">// passive by default on document. React doesn&#39;t bind them</span>
    <span class="token comment">// to document anymore, but changing this now would undo</span>
    <span class="token comment">// the performance wins from the change. So we emulate</span>
    <span class="token comment">// the existing behavior manually on the roots now.</span>
    <span class="token comment">// https://github.com/facebook/react/issues/19651</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      domEventName <span class="token operator">===</span> <span class="token string">&quot;touchstart&quot;</span> <span class="token operator">||</span>
      domEventName <span class="token operator">===</span> <span class="token string">&quot;touchmove&quot;</span> <span class="token operator">||</span>
      domEventName <span class="token operator">===</span> <span class="token string">&quot;wheel&quot;</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      isPassiveListener <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  targetContainer <span class="token operator">=</span> targetContainer<span class="token punctuation">;</span>
  <span class="token keyword">var</span> unsubscribeListener<span class="token punctuation">;</span> <span class="token comment">// When legacyFBSupport is enabled, it&#39;s for when we</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isCapturePhaseListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isPassiveListener <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      unsubscribeListener <span class="token operator">=</span> <span class="token function">addEventCaptureListenerWithPassiveFlag</span><span class="token punctuation">(</span>
        targetContainer<span class="token punctuation">,</span>
        domEventName<span class="token punctuation">,</span>
        listener<span class="token punctuation">,</span>
        isPassiveListener
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      unsubscribeListener <span class="token operator">=</span> <span class="token function">addEventCaptureListener</span><span class="token punctuation">(</span>
        targetContainer<span class="token punctuation">,</span>
        domEventName<span class="token punctuation">,</span>
        listener
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isPassiveListener <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      unsubscribeListener <span class="token operator">=</span> <span class="token function">addEventBubbleListenerWithPassiveFlag</span><span class="token punctuation">(</span>
        targetContainer<span class="token punctuation">,</span>
        domEventName<span class="token punctuation">,</span>
        listener<span class="token punctuation">,</span>
        isPassiveListener
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      unsubscribeListener <span class="token operator">=</span> <span class="token function">addEventBubbleListener</span><span class="token punctuation">(</span>
        targetContainer<span class="token punctuation">,</span>
        domEventName<span class="token punctuation">,</span>
        listener
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸš€-dispatch-æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#ğŸš€-dispatch-æœºåˆ¶" aria-hidden="true">#</a> ğŸš€ Dispatch æœºåˆ¶</h3><p>React çš„ Dispatcher æœºåˆ¶æ˜¯ç”¨äºç®¡ç†å’Œè°ƒåº¦æ›´æ–°çš„å†…éƒ¨æœºåˆ¶ï¼Œå®ƒè´Ÿè´£åè°ƒå’Œæ‰§è¡Œæ›´æ–°ä»»åŠ¡çš„è¿‡ç¨‹ã€‚ä¸‹é¢æ˜¯ React Dispatcher æœºåˆ¶çš„è¯¦ç»†ä»‹ç»å’ŒåŸç†ï¼š</p><ol><li><p>è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ï¼šè°ƒåº¦å™¨æ˜¯ Dispatcher çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†å’Œè°ƒåº¦ä»»åŠ¡çš„æ‰§è¡Œã€‚å®ƒç»´æŠ¤äº†å¤šä¸ªä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œç”¨äºå­˜å‚¨ä¸åŒä¼˜å…ˆçº§çš„ä»»åŠ¡ã€‚è°ƒåº¦å™¨æ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§æ¥ç¡®å®šæ‰§è¡Œé¡ºåºï¼Œä»¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p></li><li><p>è°ƒåº¦å™¨ä»»åŠ¡ï¼ˆScheduler Taskï¼‰ï¼šè°ƒåº¦å™¨ä»»åŠ¡è¡¨ç¤ºä¸€ä¸ªæ›´æ–°ä»»åŠ¡ï¼Œå¯ä»¥æ˜¯ç»„ä»¶çš„æ›´æ–°ã€å‰¯ä½œç”¨çš„å¤„ç†ç­‰ã€‚å½“éœ€è¦è§¦å‘æ›´æ–°æ—¶ï¼ŒReact ä¼šåˆ›å»ºä¸€ä¸ªè°ƒåº¦å™¨ä»»åŠ¡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ç›¸åº”çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ã€‚</p></li><li><p>è°ƒåº¦ä¼˜å…ˆçº§ï¼ˆLanesï¼‰ï¼šè°ƒåº¦ä¼˜å…ˆçº§ç”¨äºè¡¨ç¤ºä¸åŒä»»åŠ¡çš„ä¼˜å…ˆçº§ã€‚React ä½¿ç”¨ Lanes æ¥ç®¡ç†ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œä¾‹å¦‚åŒæ­¥æ›´æ–°ã€æ‰¹é‡æ›´æ–°ã€é—²ç½®æ›´æ–°ç­‰ã€‚è°ƒåº¦å™¨æ ¹æ® Lanes æ¥å†³å®šä»»åŠ¡çš„æ‰§è¡Œé¡ºåºã€‚</p></li><li><p>æ‰¹é‡æ›´æ–°ï¼ˆBatchingï¼‰ï¼šä¸ºäº†æé«˜æ€§èƒ½ï¼ŒReact ä½¿ç”¨æ‰¹é‡æ›´æ–°ç­–ç•¥ã€‚å®ƒä¼šå°†å¤šä¸ªæ›´æ–°ä»»åŠ¡åˆå¹¶ä¸ºä¸€ä¸ªæ‰¹é‡æ›´æ–°ä»»åŠ¡ï¼Œç„¶ååœ¨é€‚å½“çš„æ—¶æœºè¿›è¡Œæ‰§è¡Œã€‚è¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„é‡ç»˜å’Œå¸ƒå±€è®¡ç®—ï¼Œæé«˜æ€§èƒ½å’Œæ•ˆç‡ã€‚</p></li><li><p>è°ƒåº¦è¿‡ç¨‹ï¼šå½“éœ€è¦è¿›è¡Œç»„ä»¶æ›´æ–°æ—¶ï¼ŒReact ä¼šåˆ›å»ºä¸€ä¸ªè°ƒåº¦å™¨ä»»åŠ¡ï¼Œå¹¶æ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§å°†å…¶æ·»åŠ åˆ°ç›¸åº”çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ã€‚ç„¶åï¼Œè°ƒåº¦å™¨ä¼šæ ¹æ®å½“å‰çš„è°ƒåº¦ä¼˜å…ˆçº§é€‰æ‹©å¹¶æ‰§è¡Œä»»åŠ¡ã€‚æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒReact ä¼šè¿›è¡Œç»„ä»¶çš„æ¸²æŸ“ã€è™šæ‹Ÿ DOM çš„æ¯”è¾ƒç­‰æ“ä½œï¼Œä»¥ç¡®å®šéœ€è¦æ›´æ–°çš„éƒ¨åˆ†ã€‚</p></li><li><p>ä»»åŠ¡ä¼˜å…ˆçº§çš„è°ƒåº¦ï¼šReact çš„è°ƒåº¦å™¨æ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§æ¥å†³å®šæ‰§è¡Œé¡ºåºã€‚è¾ƒé«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ä¼šè¢«ç«‹å³æ‰§è¡Œï¼Œè€Œè¾ƒä½ä¼˜å…ˆçº§çš„ä»»åŠ¡åˆ™å¯èƒ½ä¼šè¢«æ¨è¿Ÿæˆ–åˆå¹¶ã€‚è¿™ç§æœºåˆ¶å¯ä»¥ç¡®ä¿é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡èƒ½å¤ŸåŠæ—¶å¾—åˆ°å¤„ç†ï¼Œè€Œä½ä¼˜å…ˆçº§çš„ä»»åŠ¡åˆ™å¯ä»¥ç­‰å¾…åˆé€‚çš„æ—¶æœºå†æ‰§è¡Œï¼Œä»¥æé«˜æ€§èƒ½å’Œå“åº”æ€§ã€‚</p></li></ol><p>é€šè¿‡ Dispatcher æœºåˆ¶ï¼ŒReact èƒ½å¤Ÿçµæ´»åœ°ç®¡ç†å’Œè°ƒåº¦ç»„ä»¶çš„æ›´æ–°ä»»åŠ¡ã€‚å®ƒæ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œåˆå¹¶å’Œæ‰¹é‡å¤„ç†æ›´æ–°ä»»åŠ¡ï¼Œä»¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼ŒDispatcher æœºåˆ¶ä¹Ÿä¿è¯äº†ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹æ˜¯æœ‰åºä¸”å¯æ§çš„ï¼Œé¿å…äº†ä¸å¿…è¦çš„é‡å¤è®¡ç®—å’Œæ¸²æŸ“ã€‚</p><h2 id="ğŸ‰-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ‰-æ€»ç»“" aria-hidden="true">#</a> ğŸ‰ æ€»ç»“</h2><p>åœ¨ React ä¸­ï¼Œäº‹ä»¶ç³»ç»Ÿå’Œ Dispatcher æœºåˆ¶æ˜¯ä¸€èµ·å·¥ä½œçš„ï¼Œä½†å®ƒä»¬çš„èŒè´£å’Œä½œç”¨ç•¥æœ‰ä¸åŒã€‚</p><p>äº‹ä»¶ç³»ç»Ÿä¸»è¦è´Ÿè´£å¤„ç†ç”¨æˆ·äº¤äº’è¡Œä¸ºï¼Œä¾‹å¦‚ç‚¹å‡»ã€è¾“å…¥ç­‰äº‹ä»¶çš„ç»‘å®šå’Œè§¦å‘ã€‚å½“ç”¨æˆ·è§¦å‘ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œäº‹ä»¶ç³»ç»Ÿä¼šè°ƒç”¨ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p><p>Dispatcher æœºåˆ¶åˆ™æ˜¯ç”¨äºç®¡ç†å’Œè°ƒåº¦ç»„ä»¶çš„æ›´æ–°ä»»åŠ¡ã€‚å®ƒè´Ÿè´£æ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§æ¥å†³å®šä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ›´æ–°ä»»åŠ¡ã€‚è¿™äº›æ›´æ–°ä»»åŠ¡å¯èƒ½æ˜¯ç”±äº‹ä»¶ç³»ç»Ÿè§¦å‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–è§¦å‘æ›´æ–°çš„åŸå› ï¼Œä¾‹å¦‚ç»„ä»¶çŠ¶æ€çš„æ”¹å˜ã€å¼‚æ­¥æ•°æ®çš„æ›´æ–°ç­‰ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œå½“ç”¨æˆ·è§¦å‘ä¸€ä¸ªäº‹ä»¶æ—¶ï¼Œäº‹ä»¶ç³»ç»Ÿä¼šè°ƒç”¨ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œå¯èƒ½ä¼šå¼•å‘ç»„ä»¶çš„æ›´æ–°éœ€æ±‚ï¼Œä¾‹å¦‚ä¿®æ”¹ç»„ä»¶çš„çŠ¶æ€æˆ–è§¦å‘çˆ¶ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚è¿™æ—¶ï¼ŒReact ä¼šåˆ›å»ºä¸€ä¸ªæ›´æ–°ä»»åŠ¡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° Dispatcher ä¸­çš„ç›¸åº”ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ã€‚</p><p>Dispatcher ä¼šæ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œé€‰æ‹©å¹¶æ‰§è¡Œä»»åŠ¡ã€‚å®ƒä¼šè°ƒç”¨ç»„ä»¶çš„ render æ–¹æ³•ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOMï¼Œå¹¶é€šè¿‡ä¸ä¹‹å‰çš„è™šæ‹Ÿ DOM è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾å‡ºå·®å¼‚å¹¶åº”ç”¨åˆ°å®é™…çš„ DOM ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹ä¹ŸåŒ…æ‹¬äº†ç»„ä»¶çš„æ›´æ–°ã€å‰¯ä½œç”¨çš„å¤„ç†ã€çŠ¶æ€çš„æ›´æ–°ç­‰ã€‚</p><p>æ‰€ä»¥ï¼Œå¯ä»¥è¯´äº‹ä»¶ç³»ç»Ÿé€šè¿‡è§¦å‘äº‹ä»¶æ¥æ„ŸçŸ¥éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè€Œ Dispatcher æœºåˆ¶å…·ä½“æ‰§è¡Œè¿™äº›ä»»åŠ¡å¹¶ç®¡ç†ç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹ã€‚å®ƒä»¬ååŒå·¥ä½œï¼Œç¡®ä¿ç»„ä»¶çš„æ›´æ–°èƒ½å¤Ÿè¢«åŠæ—¶å¤„ç†ï¼Œå¹¶æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p><p align="center"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1fd46c99b6d4d54af60897dac438c14~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p>`,26);function h(_,f){const a=i("ExternalLinkIcon");return p(),c("div",null,[r,u,d,n("ul",null,[n("li",null,[n("a",v,[s("ğŸ‰ å¹²è´§æ»¡æ»¡ï¼ŒReact è®¾è®¡åŸç†(ä¸€)ï¼šè—åœ¨æºç é‡Œçš„ç´§ç®å’’ ğŸ‰"),e(a)])]),n("li",null,[n("a",k,[s("ğŸ‰ å¹²è´§æ»¡æ»¡ï¼ŒReact è®¾è®¡åŸç†(äºŒ)ï¼šè—åœ¨æºç é‡Œçš„ä¸¤ä¸ªåœˆ ğŸ‰"),e(a)])]),n("li",null,[n("a",m,[s("ğŸ‰ å¹²è´§æ»¡æ»¡ï¼ŒReact è®¾è®¡åŸç†(ä¸‰)ï¼šè—åœ¨æºç é‡Œçš„æ’ä½èµ›ï¼ŒLane æ¨¡å‹ ğŸ‰"),e(a)])])]),b])}const w=t(l,[["render",h],["__file","ğŸ‰å¹²è´§æ»¡æ»¡ï¼ŒReactè®¾è®¡åŸç†(å››)ï¼šè—åœ¨æºç é‡Œçš„ä¼ å‘¼æœºï¼ŒDispatchæœºåˆ¶å’Œäº‹ä»¶ç³»ç»ŸğŸ‰.html.vue"]]);export{w as default};
